{"version":3,"sources":["images/logo.svg","utils/auth.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/api.js","components/AuthUser.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["baseUrl","checkResponse","res","ok","json","Promise","reject","statusText","Header","className","src","projectLogo","alt","exact","path","to","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","onCardClick","onCardDelete","type","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","onRemoveCard","Footer","Date","getFullYear","PopupWithForm","isOpen","onSubmit","noValidate","title","children","textButton","id","onClose","AddPlacePopup","useState","setName","setLink","useEffect","e","preventDefault","defaultValue","value","placeholder","required","minLength","maxLength","onChange","target","EditProfilePopup","description","setDescription","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","ImagePopup","api","url","headers","this","_url","_headers","status","fetch","then","_checkResponse","formData","method","body","JSON","stringify","newCard","linkAvatar","authorization","AuthUser","valueEmail","changeEmail","valuePassword","changePassword","Register","email","password","userData","setUserData","handleChange","auth","statusCode","Error","catch","Login","history","useHistory","data","token","authorized","localStorage","setItem","push","ProtectedRoute","Component","component","loggedIn","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","closeAllPopups","getProfileInfo","err","console","error","getInitialCards","getItem","jwt","checkToken","Provider","changeLikeCardStatus","state","c","deleteCard","removeCard","newArr","filter","editProfile","updateAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b53cf14d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.9acae848.svg\";","export const baseUrl = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${baseUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ password, email })\r\n        })\r\n        .then(checkResponse)\r\n}\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${baseUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ password, email })\r\n        })\r\n        .then(checkResponse)\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n    return fetch(`${baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(checkResponse)\r\n  }\r\n\r\nconst checkResponse = (res) => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.statusText}`)","import React from 'react';\r\nimport projectLogo from '../images/logo.svg';\r\nimport { Route, Link } from 'react-router-dom';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className='header' >\r\n            <img src={projectLogo} alt='Логотип' className='header__logo' />\r\n            <Route exact path='/sign-in'>\r\n            <Link className='header__link' to='/sign-up'>Зарегистрироваться</Link>\r\n            </Route>\r\n            <Route exact path='/sign-up'>\r\n            <Link className='header__link' to='/sign-in'>Войти</Link>\r\n            </Route>\r\n            <Route exact path='/'>\r\n            <p className='header__link'>email</p> <Link className='header__link' to='/sign-in'>Выйти</Link>\r\n            </Route>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import React from 'react'\r\n\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `${isOwn ? 'galery__card-remove' : 'galery__card-remove_hidden'}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `galery__card-like ${isLiked ? 'galery__card-like_active' : ''}`;\r\n\r\n    function handleClick() {\r\n        props.onCardClick({ name: props.card.name, link: props.card.link });\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card)\r\n\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card)\r\n    }\r\n\r\n    return (\r\n        <div className=\"galery__card\">\r\n            <img src={props.card.link} alt={props.card.name} className=\"galery__card-image\" onClick={handleClick} />\r\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n            <div className=\"galery__card-wrapper\">\r\n                <h2 className=\"galery__card-title\">{props.card.name}</h2>\r\n                <div className=\"galery__card-like-wrapper\">\r\n                    <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n                    <p className=\"galery__card-like-number\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import React, { useContext } from 'react';\r\nimport Card from './Card.js'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__wrapper-avatar\">\r\n                    <img src={currentUser.avatar} alt=\"Профиль\" className=\"profile__avatar\" />\r\n                    <button className=\"profile__edit-avatar\" onClick={props.onEditAvatar} />\r\n                </div>\r\n                <div className=\"profile__wrapper\">\r\n                    <div className=\"profile__wrapper-text\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button className=\"profile__button-edit\" type=\"button\" onClick={props.onEditProfile}></button>\r\n                    </div>\r\n                    <p className=\"profile__description\">{currentUser.about}</p>\r\n                </div>\r\n                <button className=\"profile__button-add\" type=\"button\" onClick={props.onAddPlace} />\r\n            </section>\r\n\r\n            <section className=\"galery\">\r\n                {props.cards.map((item) => {\r\n                    return (<Card card={item} key={item._id} onCardClick={props.onCardClick} onCardDelete={props.onCardDelete} onRemoveCard={props.onRemoveCard} onCardLike={props.onCardLike}\r\n                    />)\r\n                })}\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\nexport default Main;\r\n","import React from 'react';\r\nimport '../index.css';\r\n\r\nfunction Footer() {\r\n    return ( \r\n        <footer className = \"footer content\" >\r\n        <p className = \"footer__copyright\" > {`©${new Date().getFullYear()} Mesto Russia`} </p> \r\n        </footer>\r\n    )\r\n}\r\nexport default Footer;","import React from 'react';\r\n\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <div className={`popup ${props.isOpen && 'popup_opened'}`}>\r\n            <form className={`popup__container`} name={props.name} onSubmit={props.onSubmit} noValidate>\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                {props.children}\r\n                <button className=\"popup__save-button popup__button\" type=\"submit\">{props.textButton}</button>\r\n                <button className=\"popup__close-button\" type=\"button\" id=\"close-edit-popup\" onClick={props.onClose} />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React, { useState, useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\n\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [link, setLink] = useState('');\r\n\r\n    useEffect(() => {\r\n        setName('');\r\n        setLink('');\r\n    }, [props.isOpen])\r\n\r\n\r\n    function changeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function changeLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        props.onAddPlace({\r\n            name,\r\n            link,\r\n        });\r\n    }\r\n    return (\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            name='add-card-form'\r\n            title='Новое место'\r\n            textButton='Создать'>\r\n            <input defaultValue={''} value={name} type=\"text\" className=\"popup__input\" name=\"name\" id=\"place-name\" placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\" onChange={changeName} />\r\n            <span id=\"place-name-error\" className=\"error\"></span>\r\n            <input defaultValue={''} value={link} type=\"url\" className=\"popup__input\" name=\"link\" id=\"image-link\" placeholder=\"Ссылка на картинку\" required onChange={changeLink} />\r\n            <span id=\"image-link-error\" className=\"error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n\r\n\r\n    function changeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function changeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n    return (\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            name='edit-profile-form'\r\n            title='Редактирование профиля'\r\n            textButton='Сохранить'>\r\n            <input type=\"text\" defaultValue={name} className=\"popup__input\" name=\"name\" id=\"name\" required minLength=\"2\" maxLength=\"40\" onChange={changeName} />\r\n            <span id=\"name-error\" className=\"error\"></span>\r\n            <input type=\"text\" defaultValue={description} className=\"popup__input\" name=\"about\" id=\"about-me\" required minLength=\"2\" maxLength=\"200\" onChange={changeDescription} />\r\n            <span id=\"about-me-error\" className=\"error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup\r\n","import React, { useRef } from 'react'\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarRef = useRef();\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onSubmit={handleSubmit}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            name='avatar-form'\r\n            title='Обновить аватар'\r\n            textButton='Сохранить'>\r\n            <input ref={avatarRef} type=\"url\" className=\"popup__input\" name=\"link\" id=\"avatar-link\" placeholder=\"Название\" required />\r\n            <span id=\"avatar-link-error\" className=\"error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\n\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <div className={`popup ${props.card.link.length && 'popup_opened'}`} >\r\n            <div className=\"popup__image-container\" >\r\n                <figure className=\"popup__figure\" >\r\n                    <img src={props.card.link} alt={props.card.name} className=\"popup__image\" />\r\n                    <figcaption className=\"popup__caption\" > {props.card.name} </figcaption>\r\n                </figure>\r\n                <button className=\"popup__close-button\"\r\n                    type=\"button\"\r\n                    id=\"close-image-popup\"\r\n                    onClick={props.onClose} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ImagePopup;","class Api {\r\n    constructor({ url, headers }) {\r\n        this._url = url;\r\n        this._headers = headers\r\n    }\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    getInitialCards() {\r\n        return fetch(`${this._url}cards`, {\r\n                headers: this._headers\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n    getProfileInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n                headers: this._headers\r\n            })\r\n            .then(this._checkResponse)\r\n\r\n    }\r\n    editProfile(formData) {\r\n        return fetch(`${this._url}users/me`, {\r\n                method: 'PATCH',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    name: formData.name,\r\n                    about: formData.about\r\n                })\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n    postCard(newCard) {\r\n        return fetch(`${this._url}cards`, {\r\n                method: 'POST',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    name: newCard.name,\r\n                    link: newCard.link\r\n                })\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n    removeCard(item) {\r\n        return fetch(`${this._url}cards/${item._id}`, {\r\n                method: \"DELETE\",\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n    changeLikeCardStatus(id, isLiked) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n                method: isLiked ? 'PUT' : 'DELETE',\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    updateAvatar(linkAvatar) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n                method: 'PATCH',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    avatar: linkAvatar.avatar\r\n                })\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n}\r\n\r\nconst config = {\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-20/',\r\n    headers: {\r\n        authorization: '204a3dbb-e697-4073-846c-574c3a07e2d3',\r\n        'Content-Type': 'application/json'\r\n    }\r\n}\r\n\r\nconst api = new Api(config)\r\n\r\nexport default api;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nfunction AuthUser(props) {\r\n    return (\r\n        <form className='auth' name={props.name} onSubmit={props.onSubmit} noValidate>\r\n        <h2 className='auth__title'>{props.title}</h2>\r\n        <input  type=\"email\" className=\"auth__input\" name=\"email\" value={props.valueEmail} id=\"email\" placeholder=\"Email\" required onChange={props.changeEmail} />\r\n        <span id=\"email-error\" className=\"error\"></span>\r\n        <input type=\"password\" className=\"auth__input\" name=\"password\" value={props.valuePassword} id=\"password\" placeholder=\"Пароль\" required onChange={props.changePassword} />\r\n        <span id=\"password-error\" className=\"error\"></span>\r\n        <button className='auth__button' type='submit'>{props.textButton}</button>\r\n        {props.name === 'sign-up'? <Link className='auth__link' exact to='/sign-in'>Уже зарегистрированы? Войти</Link>:''}\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default AuthUser;\r\n","import React, { useState } from 'react';\r\nimport AuthUser from './AuthUser';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction Register() {\r\n    const [userData, setUserData] = useState({\r\n        email:'',\r\n        password:'',\r\n    })\r\n\r\nfunction handleChange(e) {\r\n    const {name, value} = e.target;\r\n    setUserData({\r\n        ...userData,\r\n        [name]: value  \r\n    });\r\n}\r\n    function handleSubmit(e){\r\n        let {password, email } = userData;\r\n        e.preventDefault();\r\n        return  auth.register(email, password)\r\n          .then((res) => {\r\n            if (!res || res.statusCode === 400) throw new Error('Что-то пошло не так');\r\n            return res;\r\n          }).catch()\r\n      }\r\n\r\n    return (\r\n        <AuthUser\r\n        onSubmit={handleSubmit}\r\n        valueEmail={userData.email}\r\n        valuePassword={userData.password}\r\n        changeEmail={handleChange}\r\n        changePassword={handleChange}\r\n        name='sign-up'\r\n        title='Регистрация'\r\n        textButton='Зарегистрироваться'>\r\n    </AuthUser>\r\n    )\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AuthUser from './AuthUser';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction Login(props) {\r\n\r\n    const [userData, setUserData] = useState({\r\n        email: '',\r\n        password: '',\r\n    })\r\n\r\n    const history = useHistory();\r\n\r\n    function handleChange(e) {\r\n        const { name, value } = e.target;\r\n        setUserData({\r\n            ...userData,\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        let { password, email } = userData;\r\n        e.preventDefault();\r\n        return auth.authorize(email, password)\r\n            .then((data) => {\r\n                if (!data) throw new Error('Неверные имя пользователя или пароль')\r\n                if (data.token) {\r\n                    props.authorized();\r\n                    localStorage.setItem('jwt', data.token);\r\n                    history.push('/');\r\n                    return;\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <AuthUser\r\n            onSubmit={handleSubmit}\r\n            valueEmail={userData.email}\r\n            valuePassword={userData.password}\r\n            changeEmail={handleChange}\r\n            changePassword={handleChange}\r\n            name='sign-in'\r\n            title='Вход'\r\n            textButton='Войти'>\r\n        </AuthUser>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({component: Component, ...props}) {\r\n    return (\r\n        <Route>\r\n        {() =>\r\n         props.loggedIn  === true ? <Component {...props} /> : <Redirect to='/sign-in' />\r\n       }\r\n       </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch, useHistory} from 'react-router-dom';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport * as auth from '../utils/auth';\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nfunction App() {\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n    //const [isDeletePopup, setIsDeletePopup] = useState(false);\r\n    const [selectedCard, setSelectedCard] = useState({ name: '', link: '' });\r\n    const [currentUser, setCurrentUser] = useState('');\r\n    const [cards, setCards] = useState([]);\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n\r\n      const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        api.getProfileInfo()\r\n            .then((res) => {\r\n                setCurrentUser(res);\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n\r\n        api.getInitialCards()\r\n            .then((data) => {\r\n                setCards(data);\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        checkToken()\r\n      }, [])\r\n\r\n\r\n    //LIKE CARD\r\n    function handleCardLike(card) {\r\n\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n        api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n        })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    }\r\n\r\n    //DELETE CARD\r\n    function handleCardDelete(deleteCard) {\r\n        api.removeCard(deleteCard)\r\n            .then(() => {\r\n                const newArr = cards.filter(card => card !== deleteCard);\r\n                setCards(newArr);\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            })\r\n    }\r\n\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n    /*\r\n    function handleDeleteCard(){\r\n        setIsDeletePopup(true);\r\n    }*/\r\n\r\n    function closeAllPopups() {\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        //setIsDeletePopup(false);\r\n        setSelectedCard({ name: '', link: '' });\r\n    }\r\n    function handleCardClick(Card) {\r\n        setSelectedCard(Card);\r\n    }\r\n\r\n    function handleUpdateUser(formData) {\r\n        api.editProfile(formData)\r\n            .then((res) => {\r\n                setCurrentUser(res);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    }\r\n\r\n    function handleUpdateAvatar(formData) {\r\n        api.updateAvatar(formData)\r\n            .then((res) => {\r\n                setCurrentUser(res);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    }\r\n\r\n    //ADD CARD\r\n    function handleAddPlaceSubmit(newCard) {\r\n        api.postCard(newCard)\r\n            .then((newCard) => {\r\n                setCards([newCard, ...cards]);\r\n                closeAllPopups();\r\n            })\r\n    }\r\n\r\n    function changeLogged(){\r\n        setLoggedIn(true)\r\n    }\r\n\r\n    function checkToken() {\r\n    if (localStorage.getItem('jwt')) {\r\n      let jwt = localStorage.getItem('jwt'); \r\n      auth.checkToken(jwt).then((res)=>{\r\n          if(res){\r\n            \r\n            setLoggedIn(true);\r\n            history.push('/');\r\n            return res.data.email\r\n          }\r\n      })\r\n    }\r\n  }\r\n  \r\n    return (\r\n\r\n        <div className=\"page\">\r\n            <CurrentUserContext.Provider value={currentUser}>\r\n                <Header />\r\n                <Switch>\r\n                    <ProtectedRoute\r\n                        exact path='/'\r\n                        loggedIn={loggedIn}\r\n                        onEditAvatar={handleEditAvatarClick}\r\n                        onEditProfile={handleEditProfileClick}\r\n                        onAddPlace={handleAddPlaceClick}\r\n                        onCardClick={handleCardClick}\r\n                        cards={cards}\r\n                        onCardLike={handleCardLike}\r\n                        onCardDelete={handleCardDelete}\r\n                        component={Main}\r\n                    >\r\n                    </ProtectedRoute>\r\n                    <Route exact path='/sign-up'>\r\n                        <Register />\r\n                    </Route>\r\n                    <Route exact path='/sign-in'>\r\n                        <Login authorized={changeLogged} />\r\n                    </Route>\r\n                    </Switch>\r\n                    <ImagePopup\r\n                        card={selectedCard}\r\n                        onClose={closeAllPopups} />\r\n                    <EditProfilePopup\r\n                        isOpen={isEditProfilePopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onUpdateUser={handleUpdateUser} />\r\n                    <EditAvatarPopup\r\n                        isOpen={isEditAvatarPopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onUpdateAvatar={handleUpdateAvatar} />\r\n                    <AddPlacePopup\r\n                        isOpen={isAddPlacePopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onAddPlace={handleAddPlaceSubmit}\r\n                    />\r\n                \r\n                {/*<PopupWithForm\r\n            isOpen={isDeletePopup}\r\n            onClose ={closeAllPopups}\r\n            name='delete-card-form'\r\n            title='Вы уверены?'\r\n            textButton='Да'/>*/}\r\n                <Footer />\r\n            </CurrentUserContext.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n    <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}